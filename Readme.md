<h1 align="center">Форма получения скидки</h1>

<h3>Первая настройка:</h3>
На проекте установлен модуль sprint.migration для создания миграций.
Чтобы форма получения скидки работала необходимо установить миграцию 
randomDiscountTable20230121154034
<br>
Для установки миграция необходимо в административном меню перейти в 
Настройки -> Миграции для разработчиков -> Миграции, далее нажать 
кнопку "Установить новые"

<h3>Реализация</h3>
<ul>
    <li>
        Реализация сделана через собственный компонент officemag:randomdiscount,
        компонент не имеет настроек и используется для структурирования кода функционала.
    </li>
    <li>
        Для хранения данных используется собственная таблица t_random_discount
    </li>
    <li>
        Для доступа к таблице был создан ORM класс RandomDiscountTable, класс размещен в папке local/include/classes/ORM, 
        которая в свою очередь с помощью сформированных правил композером импортирует в проект
        файлы классов, если они отвечают стандартам PSR-4
    </li>
    <li>
        На фронте используются элементы битриксовской UI библиотеки
    </li>
    <li>
        Для запроса данных используется Битриксовский метод BX.ajax.runComponentAction()
    </li>
    <li>
        Все ответы от бэкенда стандартизированы с помощью методов класса AjaxJson, чтобы фронт не получал неожиданных ответов 
    </li>
    <li>
        На проекте все фразы на русском языке вынесены в файлы локализации
    </li>
</ul>

<h3>Использование</h3>

1) Перейти на страницу /getdiscount/ 
2) Нажать кнопку получить скидку, должно появиться диалоговое окно с суммой скидки и кодом скидки
3) Повторное нажатие на кнопку получить скидку выведет окно с кодом скидки, полученным на шаге 2
4) Если кликнуть по кнопке получить скидку спустя час после получения предыдущей скидки, то пользователя получит новый процент скидки и код скидки
5) Полученный на предыдущих шагах код скидки можно проверить введя в соответствующее поле ввода и нажав на кнопку проверить скидку
6) Если скидка была получена не более 3х часов назад, то появится диалоговое окно с процентным значением скидки
7) Если скидка была получена уже более 3х часов назад, то появится диалоговое окно с информацией о том, что скидка недоступна
